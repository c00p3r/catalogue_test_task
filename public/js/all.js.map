{"version":3,"sources":["main.js","ie10-viewport-bug-workaround.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["/*!\r\n * App script\r\n */\r\n$(function () {\r\n    var $row = $('.row-offcanvas');\r\n    var $form = $('#filter-form');\r\n    var url = $form.attr('action');\r\n\r\n    $('.alert').on('closed.bs.alert', function () {\r\n        if (!$.trim($('.container', '#flash-messages').html())) {\r\n            $('#flash-messages').remove();\r\n        }\r\n    });\r\n\r\n    // Toggle the sidebar with filters\r\n    $('.toggle-sidebar').click(function () {\r\n        $row.toggleClass('active');\r\n    });\r\n\r\n    // Filtering view with ajax\r\n    $form.on('submit', function () {\r\n        getFiltered(url, $form.serialize());\r\n        $row.toggleClass('active');\r\n        return false;\r\n    });\r\n\r\n    // Resetting view with ajax after form reset\r\n    $('#reset-filter', $form).click(function () {\r\n        var data = {_token: $form.find('[name=_token]').val()};\r\n        getFiltered(url, data);\r\n        $row.toggleClass('active');\r\n    });\r\n\r\n    // Pagination with ajax\r\n    var processing = false;\r\n    $(document).on('click', '.pagination a', function () {\r\n        if (!processing) {\r\n            var page = $(this).attr('href').split('page=')[1];\r\n\r\n            processing = true;\r\n\r\n            $.ajax({\r\n                url: '?page=' + page\r\n            }).success(function (response) {\r\n                $('#content').html(response);\r\n                location.hash = page;\r\n                processing = false;\r\n            }).fail(function () {\r\n                flashError();\r\n            });\r\n        }\r\n        return false;\r\n    })\r\n});\r\n\r\nfunction getFiltered(url, request) {\r\n    $.ajax({\r\n        'method': 'post',\r\n        'url': url,\r\n        'data': request,\r\n        beforeSend: function () {\r\n            $('#content').empty();\r\n            // Animation while waiting for server response\r\n            $('#ajax-loader').removeClass('hidden');\r\n        },\r\n        complete: function () {\r\n            $('#ajax-loader').addClass('hidden');\r\n        }\r\n    }).success(function (response) {\r\n        $('#content').html(response);\r\n    }).fail(function () {\r\n        // Pretty alert in case of error\r\n        flashError();\r\n    })\r\n}\r\n\r\nfunction initSelect2($elem, data) {\r\n    if ($.fn.select2) {\r\n        $elem.select2({\r\n            placeholder: '',\r\n            width: '100%',\r\n            data: data,\r\n            theme: 'bootstrap',\r\n            allowClear: true,\r\n            minimumInputLength: 1\r\n        });\r\n    }\r\n}\r\n\r\nfunction flashError() {\r\n    var notification =\r\n        '<div id=\"flash-messages\" class=\"bg-danger\">' +\r\n        '<div class=\"container\">' +\r\n        '<div class=\"alert alert-dismissible alert-danger\">' +\r\n        '<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">' +\r\n        '<span aria-hidden=\"true\">&times;</span>' +\r\n        '</button>' +\r\n        'Request error' +\r\n        '</div>' +\r\n        '</div>' +\r\n        '</div>';\r\n\r\n    $('#navbar').after(notification);\r\n}","/*!\n * IE10 viewport hack for Surface/desktop Windows 8 bug\n * Copyright 2014-2015 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\n// See the Getting Started docs for more information:\n// http://getbootstrap.com/getting-started/#support-ie10-width\n\n(function () {\n    'use strict';\n\n    if (navigator.userAgent.match(/IEMobile\\/10\\.0/)) {\n        var msViewportStyle = document.createElement('style');\n        msViewportStyle.appendChild(\n            document.createTextNode(\n                '@-ms-viewport{width:auto!important}'\n            )\n        );\n        document.querySelector('head').appendChild(msViewportStyle)\n    }\n})();"]}